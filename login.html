<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
   </head>
<body>
    <h2>Login</h2>
    <input type="text" id="username" placeholder="Usuário">
    <input type="password" id="password" placeholder="Senha">
    <button onclick="login()">Entrar</button>
    <p id="error" style="color: red;"></p>

    <script>
       // Função para carregar o arquivo CSV
function loadCSV(url) {
    return fetch(url)
        .then(response => response.text()) // Lê o arquivo CSV como texto
        .then(data => {
            const users = parseCSV(data);  // Converte o CSV em um objeto
            return users;  // Retorna o objeto de usuários
        })
        .catch(error => console.error('Erro ao carregar o arquivo CSV:', error));
}

// Função para analisar o CSV e converter para um objeto de usuários
function parseCSV(csvData) {
    const rows = csvData.split('\n');  // Divide as linhas do CSV
    const users = {};  // Objeto onde os usuários serão armazenados

    rows.forEach(row => {
        const columns = row.split(';');  // Divide cada linha pelo ponto e vírgula
        if (columns.length === 2) {
            const [username, password] = columns;  // Atribui o usuário e a senha
            users[username] = password;  // Adiciona no objeto
        }
    });

    return users;
}

// Função para validar o login
function validateLogin(username, password) {
    loadCSV("https://raw.githubusercontent.com/CatalogoEstoque/index/main/User.csv")
        .then(users => {
            if (users[username] === password) {
                alert("Login bem-sucedido!");
                // Redirecionar para a página de dados, por exemplo
            } else {
                alert("Usuário ou senha incorretos!");
            }
        });
}
    </script>
</body>
</html>


